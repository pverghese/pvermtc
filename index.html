<!DOCTYPE html>
<html>
  <meta name="viewport" content="width=device-width, initial-scale=1">

<head>
  <title>Geolocation API</title>
</head>
<style>
  h1 {
    color: black;
    font-family: verdana;
    font-size: 100%;
  }
  .main {
    display: flex;
  }
  label {
    display: flex;
    justify-content: center;
    align-content: center;
    flex-wrap:wrap;
    margin-right: 2px;
  }
  p {
    color: rgb(0, 0, 0);
    font-family: courier;
    font-size: 80%;
    margin: 5px;
    background-color: rgb(247, 246, 253);
    padding: 5px 5px;
    border-radius: 5px;
  }

  .pstops {
    color: rgb(255, 255, 255);
    background-color: rgb(38, 40, 107);
    font-family: courier;
    font-size: 80%;
    user-select: none;
    display: flex;
    padding: 5px 5px;

  }

  .pstops:active {
    background-color: cadetblue;
  }

  .stops {
    background-color: rgb(230, 231, 249);
    color: black;
    border-bottom: 1px solid black;
    margin: 5px;
    padding: 2px;
    font-weight: bold;
    border-radius: 5px;
    filter:drop-shadow(2px 2px 4px rgb(102,112,112))
  }
  .stop {
    background-color: rgb(220, 227, 231);
    color: black;
    border-bottom: 1px solid black;
    margin: 5px;
    padding: 2px;
    font-weight: bold;
    border-radius: 5px;
    filter:drop-shadow(2px 2px 4px rgb(102,112,112))
  }

  button {
    background-color: #0423aa;
    /* Green */
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
  }

  input[type=text] {
    display: inline-block;
    height: auto;
    border: 1px solid black;
    margin-right: 10px;
    width:35%;
  }
</style>

<body>
  <h1>Get Stops at current location or search for stops</h1>
  <div class="main">
  <label for="fname">Search</label>
    <input type="text" id="fname" name="fname">
    <button onclick="getlocation()">Get Location</button>

  </div>
  <div id="location"></div>
  <div id="stops" class="stops"></div>
  <div id="stop" class="stop"></div>
  <script>
    function getlocation() {
      val = document.getElementById("fname").value
      if (val) {
        console.log(val)
        data = search(val).then((y) => {
          if (y.length > 0) {
            console.log("Got results: " + y.length)
            console.log(y[0])
            getBusStops({ coords: { latitude: parseFloat(y[0]["lat"]), longitude: parseFloat(y[0]["lon"]) } })
          }
        })

      } else {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(getBusStops)
        }
        else {
          alert("Sorry! your browser is not supporting")
        }

      }
    }

    function getBusStops(position) {
      var x = "Your current location is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
      document.getElementById("location").innerHTML = x;
      //console.log(x)
      //console.log(data);
      const timestamp = new Date(Date.now())
      //console.log(`Getting bus stations nearby at: ${timestamp.toLocaleDateString()} ||| ${timestamp.toTimeString()}`)
      document.getElementById("stops").innerHTML = "Loading...";
      data = getData(position).then((y) => {
        if (Object.keys(y).length === 0) {
          document.getElementById("stops").innerHTML = "Server is down";
          return
        }
        var stops = '';
        //console.log(y);
        y["data"].map(((d) => {
          stops += `<p class="pstops" onclick='getBusAtStation(${d["geofenceid"]})'>${d["geofencename"]} -> ${d["towards"]} ---- distance:${d["distance"]} ---${d["geofenceid"]}</p>`
        }));
        //console.log(stops)
        document.getElementById("stops").innerHTML = stops;
      }
      )
    }

    function getBusAtStation(st) {
      const timestamp = new Date(Date.now())
      console.log(`Getting live buses at station at: ${timestamp.toLocaleDateString()} ||| ${timestamp.toTimeString()}`)
      //document.getElementById("stop").innerHTML = "getting data..."
      console.log(st)
      data = getStopData(st).then((y) => {
        if (Object.keys(y).length === 0) {
          document.getElementById("stop").innerHTML = "Server is down";
          return
        }
        d = y["data"]
        buses = `Live Buses at station: ${st}`
        if (d.length == 0) {
          document.getElementById("stop").innerHTML = buses + `<p>No buses found</p>` 
        } else {
          d.map((j) => {
            buses += `<p>${j["routeno"]} - ${j["busno"]} -- ${j["arrivaltime"].split(' ')[1]} -- to: ${j["tostationname"]}</p>`
          })
          document.getElementById("stop").innerHTML = buses

        }
      })

    }

    async function search(searchStr) {
      const res = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(searchStr+" bangalore")}&format=json&limit=5`)
      let body = await res.json()
      console.log(body)
      return body
    }
    async function getStopData(stop) {
      let obj;
      //const testData ='{"data":[{"routeno":"267","routename":"HSG-SBS","fromstationname":"Hesaraghatta","tostationname":"Shivajinagara Bus Station","vehicleid":22765,"busno":"KA57F2661","arrivaltime":"21-02-2024 08:29:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"K-2","routename":"HBL-MRBS","fromstationname":"Hebbala","tostationname":"Mysore Road Bus Station","vehicleid":21033,"busno":"KA57F0407","arrivaltime":"21-02-2024 08:36:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"K-2A","routename":"KVB-MRBS","fromstationname":"Kaval Byrasandra","tostationname":"Mysore Road Bus Station","vehicleid":19583,"busno":"KA57F2172","arrivaltime":"21-02-2024 08:40:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"276","routename":"VRP-KBS","fromstationname":"Vidyaranyapura Bus Station","tostationname":"Kempegowda Bus Station","vehicleid":26299,"busno":"KA51AH4537","arrivaltime":"21-02-2024 08:42:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"K-2","routename":"HBL-MRBS","fromstationname":"Hebbala","tostationname":"Mysore Road Bus Station","vehicleid":21256,"busno":"KA57F1899","arrivaltime":"21-02-2024 08:42:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"276-AB","routename":"DBH-SBS","fromstationname":"Dodda Bettahalli","tostationname":"Shivajinagara Bus Station","vehicleid":22811,"busno":"KA57F3340","arrivaltime":"21-02-2024 08:50:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"276","routename":"VRP-KBS","fromstationname":"Vidyaranyapura Bus Station","tostationname":"Kempegowda Bus Station","vehicleid":26403,"busno":"KA51AH8347","arrivaltime":"21-02-2024 08:51:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"276 D45-VRP-KBS","routename":"D45-KBS","fromstationname":"Depot-45 Gate","tostationname":"Kempegowda Bus Station","vehicleid":22870,"busno":"KA57F3641","arrivaltime":"21-02-2024 08:52:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"},{"routeno":"500-B","routename":"CSB-YPR","fromstationname":"Central Silk Board","tostationname":"Yeshawanthapura Bus Station","vehicleid":18496,"busno":"KA57F4398","arrivaltime":"21-02-2024 10:01:00","devicestatusflag":1,"devicestatusnameflag":"Tracking available"}],"Message":"Success","Issuccess":true,"exception":null,"RowCount":9,"responsecode":200}'
      const testData=''
      if(testData) {
        return new Promise((resolve)=> resolve(JSON.parse(testData)))
      }
      const res = await fetch("https://bmtcmobileapistaging.amnex.com/WebAPI/GetMobileTripsData", {
        method: "POST",
        body: JSON.stringify({
          stationId: stop,
          triptype: 1
        }),
        headers: {
          "Content-type": "application/json; charset=UTF-8",
          "lan": "en",
          "deviceType": "android",
          "deviceId": "0298cd37e29548dc",
          "authToken": "N/A"
        }
      });
      obj = await res.json()
      return obj

    }
    async function getData(position) {

      //testData = '{"data":[{"rowno":1,"geofenceid":22937,"geofencename":"80ft Road MS Ramaiah College","center_lat":13.02752,"center_lon":77.57571,"towards":"MS Ramaiah Hospital","distance":0.28,"totalminute":3,"responsecode":200,"radiuskm":1},{"rowno":2,"geofenceid":20610,"geofencename":"Ashwathnagara","center_lat":13.02679,"center_lon":77.57984,"towards":"Gangenahalli","distance":0.32,"totalminute":4,"responsecode":200,"radiuskm":1},{"rowno":3,"geofenceid":23198,"geofencename":"Ashwathnagara","center_lat":13.02691,"center_lon":77.57973,"towards":"Ramaiah Hospital","distance":0.32,"totalminute":4,"responsecode":200,"radiuskm":1},{"rowno":4,"geofenceid":20786,"geofencename":"Geddalahalli","center_lat":13.03077,"center_lon":77.57751,"towards":"Nagashettyhalli","distance":0.59,"totalminute":7,"responsecode":200,"radiuskm":1},{"rowno":5,"geofenceid":25367,"geofencename":"Geddalahalli","center_lat":13.03082,"center_lon":77.57751,"towards":"Hebbala","distance":0.6,"totalminute":7,"responsecode":200,"radiuskm":1},{"rowno":6,"geofenceid":20731,"geofencename":"CPRI Quarters","center_lat":13.02241,"center_lon":77.5722,"towards":"Ramaiah Hospital","distance":0.64,"totalminute":8,"responsecode":200,"radiuskm":1},{"rowno":7,"geofenceid":20730,"geofencename":"CPRI Quarters","center_lat":13.02217,"center_lon":77.57224,"towards":"Sadashiva Nagara Police Station","distance":0.65,"totalminute":8,"responsecode":200,"radiuskm":1},{"rowno":8,"geofenceid":21029,"geofencename":"MS Ramaiah Hospital","center_lat":13.02771,"center_lon":77.57162,"towards":"Sadashiva Nagara Police Station","distance":0.66,"totalminute":8,"responsecode":200,"radiuskm":1},{"rowno":9,"geofenceid":29054,"geofencename":"MS Ramayya Hospital","center_lat":13.02835,"center_lon":77.57158,"towards":"C P R I","distance":0.69,"totalminute":8,"responsecode":200,"radiuskm":1},{"rowno":10,"geofenceid":33958,"geofencename":"MS Ramayya Hospital","center_lat":13.02847,"center_lon":77.57141,"towards":"Ashwath Nagara","distance":0.71,"totalminute":9,"responsecode":200,"radiuskm":1}],"Message":"Success","Issuccess":true,"exception":null,"RowCount":10,"responsecode":200}'
      const testData=''
      let obj;
      if(testData) {
        return new Promise((resolve)=> resolve(JSON.parse(testData)))
      }

      try {
        const res = await fetch("https://bmtcmobileapistaging.amnex.com/WebAPI/NearbyStations_v2", {
          method: "POST",
          body: JSON.stringify({
            latitude: position.coords.latitude,
            longitude: position.coords.longitude,
            stationId: 0,
            stationFlag: 1
          }),
          headers: {
            "Content-type": "application/json; charset=UTF-8",
            "lan": "en",
            "deviceType": "android",
            "deviceId": "0398cd37e29548dc",
            "authToken": "N/A"
          }
        });
        obj = await res.json()
        return obj
      } catch (error) {
        console.log("There was an error", error)
        return {}
      }

    }
  async function getVehicleTripDetails(vehicleid) {
    //const testData = '{"RouteDetails":[{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Vidyaranyapura Bus Station","stationid":22604,"actual_arrivaltime":"09:37","etastatus":"09:37","etastatusmapview":"09:37","latitude":13.08374,"longitude":77.56070,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:40","sch_departuretime":"09:40","eta":"","actual_arrivaltime1":"09:37","actual_departudetime":"09:37","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350017,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":null,"minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Vidyaranyapura","stationid":22602,"actual_arrivaltime":"09:37","etastatus":"09:37","etastatusmapview":"09:37","latitude":13.08372,"longitude":77.56028,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:43","sch_departuretime":"09:43","eta":"","actual_arrivaltime1":"09:37","actual_departudetime":"09:37","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350018,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":null,"minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Durga Parameshwari Temple","stationid":21927,"actual_arrivaltime":"09:38","etastatus":"09:38","etastatusmapview":"09:38","latitude":13.08182,"longitude":77.55979,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:44","sch_departuretime":"09:44","eta":"","actual_arrivaltime1":"09:38","actual_departudetime":"09:38","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350019,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:39:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Echalamara Vidyaranyapura","stationid":21930,"actual_arrivaltime":"09:39","etastatus":"09:39","etastatusmapview":"09:39","latitude":13.08000,"longitude":77.55935,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:45","sch_departuretime":"09:45","eta":"","actual_arrivaltime1":"09:39","actual_departudetime":"09:39","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350020,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:40:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Vidyaranyapura Post Office","stationid":22399,"actual_arrivaltime":"09:40","etastatus":"09:40","etastatusmapview":"09:40","latitude":13.07659,"longitude":77.55835,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:46","sch_departuretime":"09:46","eta":"","actual_arrivaltime1":"09:40","actual_departudetime":"09:40","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350021,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:41:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"3rd Block Vidyaranyapura","stationid":21633,"actual_arrivaltime":"09:41","etastatus":"09:41","etastatusmapview":"09:41","latitude":13.07237,"longitude":77.55647,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:47","sch_departuretime":"09:47","eta":"","actual_arrivaltime1":"09:41","actual_departudetime":"09:42","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350022,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:42:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"1st Block Vidyaranyapura","stationid":21631,"actual_arrivaltime":"09:42","etastatus":"09:42","etastatusmapview":"09:42","latitude":13.07021,"longitude":77.55550,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:48","sch_departuretime":"09:48","eta":"","actual_arrivaltime1":"09:42","actual_departudetime":"09:43","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350023,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:43:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Nanjappa Circle","stationid":22343,"actual_arrivaltime":"09:45","etastatus":"09:45","etastatusmapview":"09:45","latitude":13.06815,"longitude":77.56041,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:49","sch_departuretime":"09:49","eta":"","actual_arrivaltime1":"09:45","actual_departudetime":"09:45","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350024,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:46:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Chamundeshwari Layout","stationid":21815,"actual_arrivaltime":"09:46","etastatus":"09:46","etastatusmapview":"09:46","latitude":13.06488,"longitude":77.55966,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:50","sch_departuretime":"09:50","eta":"","actual_arrivaltime1":"09:46","actual_departudetime":"09:46","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350025,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:47:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Dodda Bommasandra","stationid":21901,"actual_arrivaltime":"09:47","etastatus":"09:47","etastatusmapview":"09:47","latitude":13.06022,"longitude":77.55886,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:51","sch_departuretime":"09:51","eta":"","actual_arrivaltime1":"09:47","actual_departudetime":"09:48","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350026,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:48:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Dodda Bommasandra Arch","stationid":21903,"actual_arrivaltime":"09:49","etastatus":"09:49","etastatusmapview":"09:49","latitude":13.05884,"longitude":77.55928,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:52","sch_departuretime":"09:52","eta":"","actual_arrivaltime1":"09:49","actual_departudetime":"09:50","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350027,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:50:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Nagaland Circle","stationid":22324,"actual_arrivaltime":null,"etastatus":"Skipped","etastatusmapview":"N/A","latitude":13.05570,"longitude":77.55720,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:53","sch_departuretime":"09:53","eta":"","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350028,"tripposition":3,"stopstatus":2,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:53:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"BEL Hospital","stationid":21736,"actual_arrivaltime":"09:52","etastatus":"09:52","etastatusmapview":"09:52","latitude":13.04987,"longitude":77.55755,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:54","sch_departuretime":"09:54","eta":"","actual_arrivaltime1":"09:52","actual_departudetime":"09:52","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350029,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:54:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"BEL Circle","stationid":20637,"actual_arrivaltime":"09:54","etastatus":"09:54","etastatusmapview":"09:54","latitude":13.04520,"longitude":77.55669,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:55","sch_departuretime":"09:55","eta":"","actual_arrivaltime1":"09:54","actual_departudetime":"09:55","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350030,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T09:55:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Kuvempu Circle","stationid":28426,"actual_arrivaltime":"09:59","etastatus":"09:59","etastatusmapview":"09:59","latitude":13.04337,"longitude":77.56138,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:57","sch_departuretime":"09:57","eta":"","actual_arrivaltime1":"09:59","actual_departudetime":"10:00","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350031,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T10:00:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Devasandra Chikkamaranahalli","stationid":32470,"actual_arrivaltime":"10:03","etastatus":"10:03","etastatusmapview":"10:03","latitude":13.03638,"longitude":77.56656,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"09:59","sch_departuretime":"09:59","eta":"","actual_arrivaltime1":"10:03","actual_departudetime":"10:03","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350032,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T10:04:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"ITI Layout","stationid":33056,"actual_arrivaltime":"10:04","etastatus":"10:04","etastatusmapview":"10:04","latitude":13.03394,"longitude":77.56869,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:00","sch_departuretime":"10:00","eta":"","actual_arrivaltime1":"10:04","actual_departudetime":"10:05","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350033,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T10:05:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"MS Ramaiah Hospital","stationid":21029,"actual_arrivaltime":"10:09","etastatus":"10:09","etastatusmapview":"10:09","latitude":13.02771,"longitude":77.57162,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:02","sch_departuretime":"10:02","eta":"10:10","actual_arrivaltime1":"10:09","actual_departudetime":"10:10","tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350034,"tripposition":1,"stopstatus":0,"stopstatus_distance":999.0,"lastetaupdated":"2024-02-21T10:10:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"CPRI Quarters","stationid":20730,"actual_arrivaltime":null,"etastatus":"10:12","etastatusmapview":"10:12","latitude":13.02217,"longitude":77.57224,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:03","sch_departuretime":"10:03","eta":"10:12","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350035,"tripposition":3,"stopstatus":1,"stopstatus_distance":0.48,"lastetaupdated":"2024-02-21T10:12:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Sadashivanagara Police Station","stationid":21099,"actual_arrivaltime":null,"etastatus":"10:15","etastatusmapview":"10:15","latitude":13.01587,"longitude":77.57277,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:04","sch_departuretime":"10:04","eta":"10:15","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350036,"tripposition":3,"stopstatus":1,"stopstatus_distance":1.18,"lastetaupdated":"2024-02-21T10:15:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Tata Institute","stationid":21214,"actual_arrivaltime":null,"etastatus":"10:19","etastatusmapview":"10:19","latitude":13.01313,"longitude":77.56755,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:06","sch_departuretime":"10:06","eta":"10:19","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350037,"tripposition":3,"stopstatus":1,"stopstatus_distance":1.56,"lastetaupdated":"2024-02-21T10:19:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Malleshwara 18th Cross","stationid":20573,"actual_arrivaltime":null,"etastatus":"10:21","etastatusmapview":"10:21","latitude":13.00894,"longitude":77.56918,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:08","sch_departuretime":"10:08","eta":"10:21","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350038,"tripposition":3,"stopstatus":1,"stopstatus_distance":1.97,"lastetaupdated":"2024-02-21T10:21:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Malleshwara 13th Cross","stationid":20564,"actual_arrivaltime":null,"etastatus":"10:23","etastatusmapview":"10:23","latitude":13.00408,"longitude":77.56923,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:10","sch_departuretime":"10:10","eta":"10:23","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350039,"tripposition":3,"stopstatus":1,"stopstatus_distance":2.51,"lastetaupdated":"2024-02-21T10:23:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Malleshwara 8th Cross","stationid":20589,"actual_arrivaltime":null,"etastatus":"10:25","etastatusmapview":"10:25","latitude":12.99969,"longitude":77.56933,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:12","sch_departuretime":"10:12","eta":"10:25","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350040,"tripposition":3,"stopstatus":1,"stopstatus_distance":2.99,"lastetaupdated":"2024-02-21T10:25:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Malleshwara Circle","stationid":20989,"actual_arrivaltime":null,"etastatus":"10:26","etastatusmapview":"10:26","latitude":12.99727,"longitude":77.56945,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:13","sch_departuretime":"10:13","eta":"10:26","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350041,"tripposition":3,"stopstatus":1,"stopstatus_distance":3.26,"lastetaupdated":"2024-02-21T10:26:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Link Road","stationid":20971,"actual_arrivaltime":null,"etastatus":"10:29","etastatusmapview":"10:29","latitude":12.99426,"longitude":77.57388,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:16","sch_departuretime":"10:16","eta":"10:29","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350042,"tripposition":3,"stopstatus":1,"stopstatus_distance":3.59,"lastetaupdated":"2024-02-21T10:29:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Central","stationid":20703,"actual_arrivaltime":null,"etastatus":"10:32","etastatusmapview":"10:32","latitude":12.98980,"longitude":77.57204,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:18","sch_departuretime":"10:18","eta":"10:32","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350043,"tripposition":3,"stopstatus":1,"stopstatus_distance":4.08,"lastetaupdated":"2024-02-21T10:32:00","minstopstatus_distance":0.48},{"rowid":1,"tripid":29513721,"routeno":"276","routename":"VRP-KBS","busno":"KA01F9478","tripstatus":"Running","tripstatusid":"1","sourcestation":"Vidyaranyapura Bus Station","destinationstation":"Kempegowda Bus Station","servicetype":"Non AC/Ordinary","webservicetype":"Non-AC","servicetypeid":72,"lastupdatedat":"21-02-2024 10:10:44","stationname":"Kempegowda Bus Station","stationid":20922,"actual_arrivaltime":null,"etastatus":"10:38","etastatusmapview":"10:38","latitude":12.97749,"longitude":77.57327,"currentstop":"","laststop":"MS Ramaiah Hospital (Towards Sadashiva Nagara Police Station)","weblaststop":"MS Ramaiah Hospital","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","currlatitude":13.026463,"currlongitude":77.571915,"sch_arrivaltime":"10:24","sch_departuretime":"10:24","eta":"10:38","actual_arrivaltime1":null,"actual_departudetime":null,"tripstarttime":"09:40","tripendtime":"10:35","routeid":3777,"vehicleid":22564,"responsecode":200,"lastreceiveddatetimeflag":1,"srno":636350044,"tripposition":1,"stopstatus":1,"stopstatus_distance":5.45,"lastetaupdated":"2024-02-21T10:38:00","minstopstatus_distance":0.48}],"LiveLocation":[{"latitude":13.026463,"longitude":77.571915,"location":"New B E L Road, Devasandra, Bengaluru 560094, India","lastrefreshon":"21-02-2024 10:10:44","nextstop":"CPRI Quarters (Towards Sadashiva Nagara Police Station)","previousstop":"ITI Layout (Towards Sadashiva Nagara)","vehicleid":22564,"vehiclenumber":"KA01F9478","routeno":"276","servicetypeid":72,"servicetype":"Non AC/Ordinary","heading":170.00,"responsecode":200,"trip_status":1,"lastreceiveddatetimeflag":1}],"Message":"Success","Issuccess":true,"exception":null,"RowCount":29,"responsecode":200}'
    const testData=''
    if(testData) {
        return new Promise((resolve)=> resolve(JSON.parse(testData)))

    }
  }
  </script>
</body>

</html>